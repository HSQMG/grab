;/*FB_PKG_DELIM*/

__d("CometFeedStoryNFXActionMenuItem_nfxActionMenuItem$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},c=[b],d=[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],e=[{kind:"Literal",name:"site",value:"www"}];return{kind:"SplitOperation",metadata:{},name:"CometFeedStoryNFXActionMenuItem_nfxActionMenuItem$normalization",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"feed_unit",plural:!1,selections:[a,{kind:"InlineFragment",selections:c,type:"Node",abstractKey:"__isNode"},{kind:"InlineFragment",selections:c,type:"CommunityTabNewJoinFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:c,type:"CommunityTabTrendingPOGFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:c,type:"FBShortsMidCardFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:c,type:"XFBDummyReelsInWatchIFU",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"context",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:d,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"subtitle",plural:!1,selections:d,storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"icon",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_start_curation_flow",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:e,kind:"ScalarField",name:"redirect_uri",storageKey:'redirect_uri(site:"www")'},{alias:null,args:e,kind:"ScalarField",name:"redirect_style",storageKey:'redirect_style(site:"www")'}],type:"NFXActionWhichRedirects",abstractKey:null},b],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"legal_reporting_cta_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"legal_reporting_uri",storageKey:null}]}}();e.exports=a}),null);
__d("CometFeedStoryNFXActionMenuItem_nfxActionMenuItem.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],b=[{kind:"Literal",name:"site",value:"www"}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometFeedStoryNFXActionMenuItem_nfxActionMenuItem",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"feed_unit",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"Node",abstractKey:"__isNode"}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"context",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"subtitle",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"icon",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_start_curation_flow",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:b,kind:"ScalarField",name:"redirect_uri",storageKey:'redirect_uri(site:"www")'},{alias:null,args:b,kind:"ScalarField",name:"redirect_style",storageKey:'redirect_style(site:"www")'}],type:"NFXActionWhichRedirects",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"legal_reporting_cta_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"legal_reporting_uri",storageKey:null}],type:"StoryNFXActionMenuItem",abstractKey:null}}();e.exports=a}),null);
__d("useFRXUniversalFeedbackSurveyDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6992177967533947"}),null);
__d("useFRXUniversalFeedbackSurveyDialogQuery.graphql",["useFRXUniversalFeedbackSurveyDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"context"},c={defaultValue:null,kind:"LocalArgument",name:"entry_point"},d={defaultValue:null,kind:"LocalArgument",name:"input"},e={defaultValue:null,kind:"LocalArgument",name:"reason"},f={defaultValue:null,kind:"LocalArgument",name:"scale"},g={defaultValue:null,kind:"LocalArgument",name:"story_location"},h=[{kind:"Variable",name:"context",variableName:"context"},{kind:"Variable",name:"entry_point",variableName:"entry_point"},{kind:"Variable",name:"nt_frx_dismiss_survey_call_input",variableName:"input"},{kind:"Variable",name:"reason",variableName:"reason"},{kind:"Variable",name:"story_location",variableName:"story_location"}],i={alias:null,args:null,kind:"ScalarField",name:"session_blob",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"branch_default_page_index",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"branch_question_id",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"branch_subquestion_index_int",storageKey:null},m={alias:null,args:null,concreteType:"StructuredSurveyBranchNodeResponseMapEntry",kind:"LinkedField",name:"branch_response_maps",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"page_index",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"response_option_numeric_value",storageKey:null}],storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"qwa_min",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"qwa_page_index",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"qwa_question_id",storageKey:null},q={alias:null,args:null,kind:"ScalarField",name:"qwa_default_page_index",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"direct_next_page_index_int",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"random_fallback_threshold",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"random_next_page_indices",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"random_next_page_weights",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"fallback_page",storageKey:null},w={alias:null,args:null,kind:"ScalarField",name:"qe_next_page_index",storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"node_type",storageKey:null};j=[j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,{alias:null,args:null,concreteType:"StructuredSurveyControlNodeFlat",kind:"LinkedField",name:"composite_control_node_flat",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"parent_index",storageKey:null},{alias:null,args:null,concreteType:"StructuredSurveyControlNode",kind:"LinkedField",name:"control_node",plural:!1,selections:[j,k,l,m,n,o,p,q,r,s,t,u,v,w,x],storageKey:null}],storageKey:null}];k={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null};l={alias:null,args:null,kind:"ScalarField",name:"question_id",storageKey:null};m=[l,{alias:null,args:null,kind:"ScalarField",name:"amount",storageKey:null}];n=[{alias:null,args:null,concreteType:"XFBSurveyFlowDSLNodeDirective",kind:"LinkedField",name:"directives",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"target_page",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"conditions",plural:!0,selections:[k,{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{kind:"InlineFragment",selections:[l,{alias:null,args:null,kind:"ScalarField",name:"subquestion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"answer_num",storageKey:null}],type:"XFBSurveyFlowDSLNodeAnswerEqCondition",abstractKey:null},{kind:"InlineFragment",selections:m,type:"XFBSurveyFlowDSLNodeAnswerCountGTECondition",abstractKey:null},{kind:"InlineFragment",selections:m,type:"XFBSurveyFlowDSLNodeSeenCountGTECondition",abstractKey:null}],storageKey:null}],storageKey:null}];o=[{kind:"Literal",name:"is_comet_environment",value:!0}];p={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null};q={alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null};r={alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null};s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};t=[p,{alias:null,args:null,concreteType:"InlineStyleAtRange",kind:"LinkedField",name:"inline_style_ranges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"inline_style",storageKey:null},q,r],storageKey:null},{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[k,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{kind:"InlineFragment",selections:[s],type:"Node",abstractKey:"__isNode"}],storageKey:null},r,q],storageKey:null}];u=[p];v=[{alias:null,args:null,kind:"ScalarField",name:"option_numeric_value",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"option_text",plural:!1,selections:u,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"option_value",storageKey:null}];return{fragment:{argumentDefinitions:[a,c,d,e,f,g],kind:"Fragment",metadata:null,name:"useFRXUniversalFeedbackSurveyDialogQuery",selections:[{alias:null,args:h,concreteType:"NTFRXDismissSurvey",kind:"LinkedField",name:"nt_frx_dismiss_survey",plural:!1,selections:[{alias:null,args:null,concreteType:"SurveyIntegrationPoint",kind:"LinkedField",name:"integration_point",plural:!1,selections:[{alias:null,args:null,concreteType:"StructuredSurveySession",kind:"LinkedField",name:"survey_session",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometRainbowNativeSurveyDialog_surveySession"},i],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[d,e,c,g,a,f],kind:"Operation",name:"useFRXUniversalFeedbackSurveyDialogQuery",selections:[{alias:null,args:h,concreteType:"NTFRXDismissSurvey",kind:"LinkedField",name:"nt_frx_dismiss_survey",plural:!1,selections:[{alias:null,args:null,concreteType:"SurveyIntegrationPoint",kind:"LinkedField",name:"integration_point",plural:!1,selections:[{alias:null,args:null,concreteType:"StructuredSurveySession",kind:"LinkedField",name:"survey_session",plural:!1,selections:[{alias:null,args:null,concreteType:"StructuredSurvey",kind:"LinkedField",name:"survey",plural:!1,selections:[{alias:null,args:null,concreteType:"StructuredSurveyFlow",kind:"LinkedField",name:"survey_flow",plural:!1,selections:[{alias:null,args:null,concreteType:"StructuredSurveyControlNode",kind:"LinkedField",name:"initial_control_node",plural:!1,selections:j,storageKey:null},{alias:null,args:null,concreteType:"XFBSurveyFlowDSLNode",kind:"LinkedField",name:"initial_dsl",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"StructuredSurveyFlowPage",kind:"LinkedField",name:"structured_survey_flow_pages",plural:!0,selections:[{alias:null,args:null,concreteType:"StructuredSurveyFlowBucket",kind:"LinkedField",name:"buckets",plural:!0,selections:[{alias:null,args:null,concreteType:"StructuredSurveyConfiguredQuestion",kind:"LinkedField",name:"configured_questions",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"question_class",storageKey:null},l,{alias:null,args:null,kind:"ScalarField",name:"is_required",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"custom_question_params",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"custom_question_controller",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"allow_write_in_response",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"question_images",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"full_text_tokens",plural:!0,selections:[k,{alias:null,args:null,kind:"ScalarField",name:"param_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"param_type",storageKey:null},{kind:"InlineFragment",selections:[l,{alias:null,args:null,kind:"ScalarField",name:"subquestion_index",storageKey:null}],type:"StructuredSurveyTextTokenParamAnswerReference",abstractKey:null},{kind:"InlineFragment",selections:[l],type:"StructuredSurveyTextTokenParamPreviousValue",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"custom_hack_class",storageKey:null}],type:"StructuredSurveyTextTokenParamCustomHackValue",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"content_gallery_question_content_fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"content_gallery_question_content_type",storageKey:null},{alias:null,args:[{kind:"Literal",name:"supported",value:"1SDPW9"}],concreteType:null,kind:"LinkedField",name:"question_type_renderer",plural:!1,selections:[k,{kind:"InlineFragment",selections:[{args:null,documentName:"QuestionRenderer_renderer",fragmentName:"RainbowSurveyQuestionCheckbox_question",fragmentPropName:"question",kind:"ModuleImport"}],type:"QuestionCheckboxRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"QuestionRenderer_renderer",fragmentName:"RainbowSurveyQuestionDropdown_question",fragmentPropName:"question",kind:"ModuleImport"}],type:"QuestionDropdownRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"QuestionRenderer_renderer",fragmentName:"RainbowSurveyQuestionRankOrder_question",fragmentPropName:"question",kind:"ModuleImport"}],type:"QuestionRankOrderRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"QuestionRenderer_renderer",fragmentName:"RainbowSurveyQuestionContentGallery_question",fragmentPropName:"question",kind:"ModuleImport"}],type:"QuestionContentGalleryRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"QuestionRenderer_renderer",fragmentName:"RainbowSurveyQuestionCustom_question",fragmentPropName:"question",kind:"ModuleImport"}],type:"QuestionCustomRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"QuestionRenderer_renderer",fragmentName:"RainbowSurveyMessage_question",fragmentPropName:"question",kind:"ModuleImport"}],type:"QuestionMessageRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"QuestionRenderer_renderer",fragmentName:"RainbowSurveyQuestionRadio_question",fragmentPropName:"question",kind:"ModuleImport"}],type:"QuestionRadioRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"QuestionRenderer_renderer",fragmentName:"RainbowSurveyQuestionStars_question",fragmentPropName:"question",kind:"ModuleImport"}],type:"QuestionStarsRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"QuestionRenderer_renderer",fragmentName:"RainbowSurveyText_question",fragmentPropName:"question",kind:"ModuleImport"}],type:"QuestionTextRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"QuestionRenderer_renderer",fragmentName:"RainbowSurveyQuestionRatingMatrix_question",fragmentPropName:"question",kind:"ModuleImport"}],type:"QuestionRatingMatrixRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"QuestionRenderer_renderer",fragmentName:"RainbowSurveyQuestionMaxDiff_question",fragmentPropName:"question",kind:"ModuleImport"}],type:"QuestionMaxDiffRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"QuestionRenderer_renderer",fragmentName:"RainbowSurveyQuestionLikert_question",fragmentPropName:"question",kind:"ModuleImport"}],type:"QuestionLikertRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"QuestionRenderer_renderer",fragmentName:"RainbowSurveyQuestionConsentIntro_question",fragmentPropName:"question",kind:"ModuleImport"}],type:"QuestionConsentIntroRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"QuestionRenderer_renderer",fragmentName:"RainbowSurveyQuestionNumericField_question",fragmentPropName:"question",kind:"ModuleImport"}],type:"QuestionNumericFieldRenderer",abstractKey:null}],storageKey:'question_type_renderer(supported:"1SDPW9")'},{alias:null,args:o,concreteType:"TextWithEntities",kind:"LinkedField",name:"body",plural:!1,selections:t,storageKey:"body(is_comet_environment:true)"},{alias:null,args:o,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:t,storageKey:"message(is_comet_environment:true)"},{alias:null,args:null,concreteType:"StructuredSurveyResponseOption",kind:"LinkedField",name:"response_options",plural:!0,selections:v,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pipe_options_from_question_id",storageKey:null},{alias:null,args:null,concreteType:"StructuredSurveyResponseOption",kind:"LinkedField",name:"responses_options_from_pipe_question",plural:!0,selections:v,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"subquestion_labels",plural:!0,selections:u,storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBSurveyFlowDSLPage",kind:"LinkedField",name:"page_dsl",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBSurveyFlowDSLNode",kind:"LinkedField",name:"entry",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"XFBSurveyFlowDSLNode",kind:"LinkedField",name:"exit",plural:!1,selections:n,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StructuredSurveyControlNode",kind:"LinkedField",name:"control_node",plural:!1,selections:j,storageKey:null},{alias:null,args:null,concreteType:"StructuredSurveyControlNode",kind:"LinkedField",name:"before_visit_control_node",plural:!1,selections:j,storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"allow_repeats",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"flow_type",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_last_sub_survey",storageKey:null},s,{alias:null,args:null,kind:"ScalarField",name:"survey_flow_type",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"end_of_survey_redirect_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"response_id",storageKey:null},{alias:null,args:null,concreteType:"SurveyConfig",kind:"LinkedField",name:"config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"dialog_x_out_enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"survey_header",storageKey:null},s],storageKey:null},i],storageKey:null},s],storageKey:null}],storageKey:null}]},params:{id:b("useFRXUniversalFeedbackSurveyDialogQuery_facebookRelayOperation"),metadata:{},name:"useFRXUniversalFeedbackSurveyDialogQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("useFRXUniversalFeedbackSurveyDialog.react",["CometRelay","JSResourceForInteraction","WebPixelRatio","emptyFunction","promiseDone","react","useCometLazyDialog","useFRXUniversalFeedbackSurveyDialogQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useCallback,k=c("JSResourceForInteraction")("CometRainbowNativeSurveyDialog.react").__setRef("useFRXUniversalFeedbackSurveyDialog.react"),l=h!==void 0?h:h=b("useFRXUniversalFeedbackSurveyDialogQuery.graphql");function a(a){var b=a.context,e=a.entryPoint,f=a.storyLocation,g=d("CometRelay").useRelayEnvironment();a=c("useCometLazyDialog")(k);var h=a[0];return j(function(){c("promiseDone")(d("CometRelay").fetchQuery(g,l,{context:b,entry_point:e,input:{},reason:"",scale:d("WebPixelRatio").get(),story_location:f},{fetchPolicy:"network-only"}).toPromise().then(function(a){a=a==null?void 0:(a=a.nt_frx_dismiss_survey)==null?void 0:(a=a.integration_point)==null?void 0:a.survey_session;(a==null?void 0:a.session_blob)!=null&&(a==null?void 0:a.session_blob)!==""&&h({surveySession:a},c("emptyFunction"))}))},[b,e,f,g,h])}g["default"]=a}),98);
__d("CometFeedStoryNFXActionMenuItem.react",["fbt","CAAWebClientLoggingEventSource","CometActivityLogUtils","CometFeedStoryEncryptedTrackingContext","CometFeedStoryMenuOriginalStoryIDContext","CometFeedStoryNFXActionMenuItem_nfxActionMenuItem.graphql","CometMenuItem.react","CometRelay","CometStoryRenderLocationContext.react","InstreamAdsHideAdBehaviorContext","JSResource","TintableIconSource","coerceRelayImage","cometPushToast","react","requireDeferred","unrecoverableViolation","useCAALoggedOutDialogWrapper","useCometLazyDialog","useFRXUniversalFeedbackSurveyDialog.react","useIsLoggedOut"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));e=j;var l=e.useCallback,m=e.useContext,n=e.useEffect,o=e.useMemo,p=e.useRef,q=c("requireDeferred")("CometFeedStoryExecuteNFXActionMutation").__setRef("CometFeedStoryNFXActionMenuItem.react"),r=c("JSResource")("CIXWithScreen.react").__setRef("CometFeedStoryNFXActionMenuItem.react");function a(a,e){var f=m(c("CometStoryRenderLocationContext.react")),g=d("CometRelay").useFragment(i!==void 0?i:i=b("CometFeedStoryNFXActionMenuItem_nfxActionMenuItem.graphql"),a.nfxActionMenuItem),j=g.action,s=g.feed_unit,t=g.legal_reporting_cta_type,u=g.legal_reporting_uri,v=d("InstreamAdsHideAdBehaviorContext").useInstreamAdsHideAdBehavior();if(j==null||s==null)throw c("unrecoverableViolation")("action or feed unit is missing for action menu item","nfx-actions");var w=j.context,x=j.type;if(x==null||w==null)throw c("unrecoverableViolation")("action type or context is missing for action menu item","nfx-actions");g=h._("__JHASH__pAetSjm_dcu__JHASH__");var y=c("useIsLoggedOut")(),z=c("useCAALoggedOutDialogWrapper")({dialogSource:d("CAAWebClientLoggingEventSource").CAAWebClientLoggingDialogSource.FEED,legal_reporting_cta_type:t,legal_reporting_uri:u,title:g}),A=m(c("CometFeedStoryEncryptedTrackingContext")),B=o(function(){if(A!=null){var a=JSON.parse(w);a.tracking=A;return JSON.stringify(a)}return w},[w,A]),C=c("useFRXUniversalFeedbackSurveyDialog.react")({context:w}),D=s.id;if(D==null)throw c("unrecoverableViolation")("storyID is missing for action menu item","nfx-actions");var E=m(c("CometFeedStoryMenuOriginalStoryIDContext")),F=d("CometRelay").useRelayEnvironment(),G=a.onClick,H=a.onComplete;p(null);g=c("useCometLazyDialog")(r);var I=g[0];s=l(function(){if(y&&u!=null){z();return}G&&G();(v==null?void 0:v.onOpen)&&v.onOpen();var a={context:B,type:x};a.type.toUpperCase()===d("CometActivityLogUtils").getActionTypeForHideFromTimeline()&&d("CometActivityLogUtils").maybeLogControl(f,"content_access_and_control_click_begin","hide_from_timeline");q.onReady(function(b){b.commit(F,a,{canShowCurationFlow:(b=j.can_start_curation_flow)!=null?b:!1,feedUnitID:(b=E)!=null?b:D,onError:function(a){d("cometPushToast").cometPushErrorToast({message:h._("__JHASH__mx-0GpuhDfw__JHASH__")},4e3)},onFRXScreen:function(a){I({flowCallbacks:{onComplete:H},initialScreen:a},function(){C(),(v==null?void 0:v.onClose)&&v.onClose()})}})})},[G,H,v,B,x,F,j.can_start_curation_flow,D,f,I,C,t,u,y,z]);a=j==null?void 0:j.icon;if(a==null)throw c("unrecoverableViolation")("no icon","nfx-actions");g=new(c("TintableIconSource"))("FB",c("coerceRelayImage")(a),20);t=j.redirect_style==="FULL_PAGE"&&j.redirect_uri!=null?j.redirect_uri:void 0;a=j.redirect_style==="FULL_PAGE"&&j.redirect_uri!=null?"_blank":void 0;var J=p(!1);n(function(){J.current===!1&&x.toUpperCase()===d("CometActivityLogUtils").getActionTypeForHideFromTimeline()&&(d("CometActivityLogUtils").maybeLogControl(f,"content_access_and_control_impression","hide_from_timeline"),J.current=!0)},[f,x]);return k.jsx(c("CometMenuItem.react"),{href:t,icon:g,onClick:s,primaryText:(g=j==null?void 0:(t=j.title)==null?void 0:t.text)!=null?g:"",ref:e,secondaryText:(t=j==null?void 0:(s=j.subtitle)==null?void 0:s.text)!=null?t:"",target:a,testid:void 0})}a.displayName=a.name+" [from "+f.id+"]";e=k.forwardRef(a);g["default"]=e}),98);