;/*FB_PKG_DELIM*/

__d("CometUFICopyLinkTetraListCellV2_shareItem$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"SplitOperation",metadata:{},name:"CometUFICopyLinkTetraListCellV2_shareItem$normalization",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url_with_tracking",storageKey:null}]};e.exports=a}),null);
__d("CometUFICopyLinkTetraListCellV2_shareItem.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFICopyLinkTetraListCellV2_shareItem",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url_with_tracking",storageKey:null}],type:"CopyLinkShareMenuItem",abstractKey:null};e.exports=a}),null);
__d("FeedShareActionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("604");b=d("FalcoLoggerInternal").create("feed_share_action",a);e=b;g["default"]=e}),98);
__d("useGroupsCometSharePostEventsClickCallback",["FeedShareActionFalcoEvent","react","useShareLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(a){var b=a.shareType==null?"":a.shareType,d=c("useShareLogger")(),e=d.onOpenSharesheetButtonClicked;return i(function(){c("FeedShareActionFalcoEvent").log(function(){return{entry_point:a.shareEntryPoint,share_source_feed_type:a.shareSourceFeedType,share_type:b,shareable_id:a.shareableID}}),e({entry_point:a.shareEntryPoint,shareable_entity_fbid:a.shareableID,sharing_component_name:"ufi_share_button"})},[e,a.shareEntryPoint,a.shareableID,a.shareSourceFeedType,b])}g["default"]=a}),98);
__d("copiedLinkPushToast",["fbt","ix","TetraIcon.react","cometPushToast","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react");function a(){d("cometPushToast").cometPushToast({icon:k.jsx(c("TetraIcon.react"),{color:"positive",icon:d("fbicon")._(i("498146"),20),size:20}),message:h._("__JHASH__wd8epkaz0sz__JHASH__"),testid:"CometCopyLinkToast"},void 0)}g["default"]=a}),98);
__d("CometUFICopyLinkTetraListCellV2.react",["fbt","Clipboard","CometBlueprintIcons","CometExternalShareTracking","CometIcon.react","CometListCellPressable.react","CometListCellText.react","CometRelay","CometUFICopyLinkTetraListCellV2_shareItem.graphql","CometUnauthenticatedUFIUtils","ExternalShareTrackingEventFalcoEvent","TetraListCell.react","copiedLinkPushToast","react","recoverableViolation","requireDeferred","useGroupsCometSharePostEventsClickCallback","useMigrateURLParamsToRouteParams","useUnifiedShareSheetLogger"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));e=j;var l=e.useCallback,m=e.useMemo,n=c("requireDeferred")("ShareMetricsLoggingController").__setRef("CometUFICopyLinkTetraListCellV2.react"),o=d("CometExternalShareTracking").shouldEnableExternalShareOptionsTracking();function a(a){var e=a.feedLocation,f=a.onClose,g=a.shareableID,j=a.shareItem,p=a.shareSourceFeedType,q=a.shareType,r=a.size;a=a.url;var s=c("useMigrateURLParamsToRouteParams")();j=d("CometRelay").useFragment(i!==void 0?i:i=b("CometUFICopyLinkTetraListCellV2_shareItem.graphql"),j);var t=c("useUnifiedShareSheetLogger")(),u=t.onShareOptionSelected,v=t.onShareSuccessful,w=m(function(){return{entry_point:e,shareable_entity_fbid:g,sharing_action_audience:"private",sharing_component_name:"copy_link_button"}},[e,g]);t="share_via_copy_link";var x=g!==""&&d("CometUnauthenticatedUFIUtils").shouldShowLoggedOutShareOptions(p),y=c("useGroupsCometSharePostEventsClickCallback")({shareableID:g,shareEntryPoint:t,shareSourceFeedType:p,shareType:q}),z=(t=j==null?void 0:j.url_with_tracking)!=null?t:a;if(s.mibextid!=null&&z!=null){q=new URL(z);q.searchParams.append("mibextid",String(s.mibextid));z=q.toString()}else z!=null&&o&&e!=null&&(z=d("CometExternalShareTracking").getExternalShareURLWithMiBExtID(a,"copy_link",e));j=l(function(){n.onReady(function(a){a.logShareFunnelEvent({fb_entry_point:"copy_link",fb_feed_location:e,fb_share_type:"share_created",shareable_id:g})}),u(w),x&&y(),z!=null&&d("Clipboard").copy(z)&&(c("copiedLinkPushToast")(),v(w)),s.mibextid!=null&&z!=null&&c("ExternalShareTrackingEventFalcoEvent").log(function(){var a;return{content_location:"groups_feed",entry_point:"fb4a",intent:"copy_link",url:(a=z)!=null?a:""}}),f()},[u,w,x,z,s.mibextid,f,e,g,y,v]);if(z===""||z==null)return c("recoverableViolation")('Could not find the shareable URL for "copy link" menu option.',"comet_feed");if(d("CometUnauthenticatedUFIUtils").shouldShowLoggedOutShareOptions(p))return k.jsx(c("CometListCellPressable.react"),{addOnStart:k.jsx(c("CometIcon.react"),{icon:d("CometBlueprintIcons").getUFIOutlinedLinkIcon()}),content:k.jsx(c("CometListCellText.react"),{headline:h._("__JHASH__Fml6ISfSCBF__JHASH__"),headlineLineLimit:1}),level:4,onPress:j,paddingHorizontal:4,paddingVertical:4});else{return k.jsx(c("TetraListCell.react"),{addOnPrimary:{icon:d("CometBlueprintIcons").getUFIOutlinedLinkIcon(),type:"icon"},headline:h._("__JHASH__Fml6ISfSCBF__JHASH__"),headlineLineLimit:1,level:4,onPress:j,size:(t=r)!=null?t:"default",testid:void 0})}}a.displayName=a.name+" [from "+f.id+"]";e=k.memo(a);g["default"]=e}),98);